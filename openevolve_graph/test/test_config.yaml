# Configuration for circle packing constructor evolution (n=26)
max_iterations: 100  # Increased iterations
checkpoint_interval: 10
log_level: "INFO"
# LLM configuration
llm:
  models:
    - name: "gpt-3.5-turbo"
      api_key: "sk-p99d7DFP8ICuPQj4mnKIURGGInimP8EpeSxDpBnkB2BUTVRf"
      base_url: "https://api.chatanywhere.tech/v1"
      temperature: 0.7
      top_p: 0.95
      max_tokens: 8192
      timeout: 600
      weight: 0.8
      retries: 3
      retry_delay: 5
      random_seed: 42
      use_web: false
      tavily_api_key: "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"

    - name: "claude-3-5-haiku-20241022"
      api_key: "sk-yUo3F5yb9jge79Sc3G75w6iCDM5pzPvQ5WmypY6iuRhHs9sh"
      base_url: "https://api.chatanywhere.tech/v1"
      temperature: 0.7
      top_p: 0.95
      max_tokens: 8192
      timeout: 600
      weight: 2.0
      retries: 3
      retry_delay: 5
      random_seed: 42
      use_web: false
      tavily_api_key: "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"

    - name: "gpt-4o-mini"
      api_key: "sk-p99d7DFP8ICuPQj4mnKIURGGInimP8EpeSxDpBnkB2BUTVRf"
      base_url: "https://api.chatanywhere.tech/v1"
      temperature: 0.7
      top_p: 0.95
      max_tokens: 8192
      timeout: 600
      weight: 0.5
      retries: 3
      retry_delay: 5
      random_seed: 42
      use_web: false
      tavily_api_key: "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"
    # - name: "deepseek-chat"
    #   api_key: "sk-9dbd3a7a0ec942dea9108ac58b081d77"
    #   base_url: "https://api.deepseek.com/v1"
    #   temperature: 0.7
    #   top_p: 0.95
    #   max_tokens: 8192
    #   timeout: 600
    #   weight: 0.5
    #   retries: 3
    #   retry_delay: 5
    #   random_seed: 42
    #   use_web: false
    #   tavily_api_key: "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"

  evaluator_models:
    - name: "gpt-4o-mini"
      api_key: "sk-p99d7DFP8ICuPQj4mnKIURGGInimP8EpeSxDpBnkB2BUTVRf"
      base_url: "https://api.chatanywhere.tech/v1"
      temperature: 0.7
      top_p: 0.95
      max_tokens: 8192
      timeout: 600
      weight: 0.8
      retries: 3
      retry_delay: 5
      random_seed: 42
      use_web: true
      tavily_api_key: "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"
    - name: "gpt-4o-mini"
      api_key: "sk-p99d7DFP8ICuPQj4mnKIURGGInimP8EpeSxDpBnkB2BUTVRf"
      base_url: "https://api.chatanywhere.tech/v1"
      temperature: 0.7
      top_p: 0.95
      max_tokens: 8192
      timeout: 600
      weight: 0.2
      retries: 3
      retry_delay: 5
      random_seed: 42
      use_web: false
      tavily_api_key: "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"
    # - name: "gpt-4o-mini"
    #   api_key: "sk-p99d7DFP8ICuPQj4mnKIURGGInimP8EpeSxDpBnkB2BUTVRf"
    #   base_url: "https://api.chatanywhere.tech/v1"
    #   temperature: 0.7
    #   top_p: 0.95
    #   max_tokens: 8192
    #   timeout: 600
    #   weight: 0.2
    #   retries: 3
    #   retry_delay: 5
    #   random_seed: 42
    #   use_web: false
    #   tavily_api_key: "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"
# Prompt configuration







prompt:
  system_message: |
    You are an expert mathematician specializing in circle packing problems and computational geometry. Your task is to improve a constructor function that directly produces a specific arrangement of 26 circles in a unit square, maximizing the sum of their radii. The AlphaEvolve paper achieved a sum of 2.635 for n=26.

    Key geometric insights:
    - Circle packings often follow hexagonal patterns in the densest regions
    - Maximum density for infinite circle packing is pi/(2*sqrt(3)) â‰ˆ 0.9069
    - Edge effects make square container packing harder than infinite packing
    - Circles can be placed in layers or shells when confined to a square
    - Similar radius circles often form regular patterns, while varied radii allow better space utilization
    - Perfect symmetry may not yield the optimal packing due to edge effects

    Focus on designing an explicit constructor that places each circle in a specific position, rather than an iterative search algorithm.
  num_top_programs: 3
  use_template_stochasticity: true

# Database configuration
island:
  population_size: 60  # Increased population for more diversity
  archive_size: 25
  random_seed: 68 
  num_islands: 4
  elite_selection_ratio: 0.3
  exploitation_ratio: 0.7

# Evaluator configuration
evaluator:
  timeout: 60
  cascade_evaluation: true
  cascade_thresholds: [0.5, 0.75]
  parallel_evaluations: 4
  use_llm_feedback: true

# graph settings
graph:
  parallel_generate: true
  checkpoint_path: ""

controller:
  resume: true 


resume: true 
max_iterations: 10000
checkpoint_interval: 100
log_level: "INFO"
log_dir: "/Users/caiyu/Desktop/langchain/openevolve_graph/circle_packing/logs"
diff_based_evolution: ture  # Use full rewrites instead of diffs
allow_full_rewrites: false    # Allow full rewrites for constructor functions
random_seed: 42 
max_code_length: 20000
checkpoint_path: "/Users/caiyu/Desktop/langchain/openevolve_graph/circle_packing/checkpoints"
init_program_path: "/Users/caiyu/Desktop/langchain/openevolve_graph/circle_packing/evaluator.py"
evalutor_file_path: "/Users/caiyu/Desktop/langchain/openevolve_graph/circle_packing/initial_program.py"